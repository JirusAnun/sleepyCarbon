{"ast":null,"code":"var _jsxFileName = \"/Users/jirusanun/Downloads/sample-01/src/views/credit.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Button, Alert, Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport { useAuth0, withAuthenticationRequired } from \"@auth0/auth0-react\";\nimport { getConfig } from \"../config\";\nimport Loading from \"../components/Loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ExternalApiComponent = () => {\n  _s();\n  const {\n    apiOrigin = \"http://localhost:3001\",\n    audience\n  } = getConfig();\n  const [state, setState] = useState({\n    showResult: false,\n    apiMessage: \"\",\n    error: null,\n    showModal: false,\n    showCameraModal: false,\n    // New state for camera modal\n    email: \"\",\n    score: 0,\n    reportName: \"\",\n    reportDescription: \"\",\n    reportDate: \"\",\n    reportImage: null\n  });\n  const {\n    getAccessTokenSilently,\n    loginWithPopup,\n    getAccessTokenWithPopup\n  } = useAuth0();\n  const toggleModal = () => {\n    setState(prevState => ({\n      ...prevState,\n      showModal: !prevState.showModal\n    }));\n  };\n  const toggleCameraModal = () => {\n    setState(prevState => ({\n      ...prevState,\n      showCameraModal: !prevState.showCameraModal\n    }));\n  };\n  const handleConsent = async () => {\n    try {\n      await getAccessTokenWithPopup();\n      setState({\n        ...state,\n        error: null\n      });\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.error\n      });\n    }\n    await callApi();\n  };\n  const handleLoginAgain = async () => {\n    try {\n      await loginWithPopup();\n      setState({\n        ...state,\n        error: null\n      });\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.error\n      });\n    }\n    await callApi();\n  };\n  const callApi = async () => {\n    try {\n      const token = await getAccessTokenSilently();\n      const response = await fetch(`${apiOrigin}/api/external`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const responseData = await response.json();\n      setState({\n        ...state,\n        showResult: true,\n        apiMessage: responseData\n      });\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.error\n      });\n    }\n  };\n  const handle = (e, fn) => {\n    e.preventDefault();\n    fn();\n  };\n  const handleDonate = async () => {\n    // You can fetch the form data and send it to your backend here\n    toggleModal();\n  };\n  const handleImageChange = e => {\n    const file = e.target.files[0];\n    setState({\n      ...state,\n      reportImage: file\n    });\n  };\n  const handleOpenCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true\n      });\n      const videoElement = document.createElement(\"video\");\n      videoElement.srcObject = stream;\n      const canvasElement = document.createElement(\"canvas\");\n      const context = canvasElement.getContext(\"2d\");\n      videoElement.onloadedmetadata = () => {\n        canvasElement.width = videoElement.videoWidth;\n        canvasElement.height = videoElement.videoHeight;\n      };\n      videoElement.play();\n      const captureButton = document.createElement(\"button\");\n      captureButton.textContent = \"Capture\";\n      captureButton.onclick = () => {\n        context.drawImage(videoElement, 0, 0, canvasElement.width, canvasElement.height);\n        const capturedImageDataUrl = canvasElement.toDataURL(\"image/jpeg\");\n        setState({\n          ...state,\n          reportImage: capturedImageDataUrl\n        });\n        stream.getTracks().forEach(track => track.stop());\n        toggleCameraModal();\n      };\n      const modalBody = document.querySelector(\".modal-body\");\n      modalBody.appendChild(captureButton);\n    } catch (error) {\n      console.error(\"Error accessing camera:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center d-flex justify-content-center align-items-center h-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Score: 100\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-5\",\n        children: [state.error === \"consent_required\" && /*#__PURE__*/_jsxDEV(Alert, {\n          color: \"warning\",\n          children: [\"You need to\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#/\",\n            className: \"alert-link\",\n            onClick: e => handle(e, handleConsent),\n            children: \"consent to get access to users api\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 17\n        }, this), state.error === \"login_required\" && /*#__PURE__*/_jsxDEV(Alert, {\n          color: \"warning\",\n          children: [\"You need to\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#/\",\n            className: \"alert-link\",\n            onClick: e => handle(e, handleLoginAgain),\n            children: \"log in again\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          className: \"mt-3 mr-2\",\n          onClick: toggleModal,\n          children: \"Report Activity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          className: \"mt-3\",\n          onClick: handleDonate,\n          children: \"Donate Carbon Credit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: state.showModal,\n      toggle: toggleModal,\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        toggle: toggleModal,\n        children: \"Create Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Report Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            value: state.reportName,\n            onChange: e => setState({\n              ...state,\n              reportName: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Report Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"form-control\",\n            rows: \"3\",\n            value: state.reportDescription,\n            onChange: e => setState({\n              ...state,\n              reportDescription: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            className: \"form-control\",\n            value: state.reportDate,\n            onChange: e => setState({\n              ...state,\n              reportDate: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Image:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            className: \"form-control-file\",\n            onChange: handleImageChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          onClick: handleDonate,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Button, {\n          color: \"secondary\",\n          onClick: toggleModal,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: state.showCameraModal,\n      toggle: toggleCameraModal,\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        toggle: toggleCameraModal,\n        children: \"Camera\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          autoPlay: true,\n          playsInline: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          color: \"info\",\n          onClick: handleOpenCamera,\n          children: \"Capture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Button, {\n          color: \"secondary\",\n          onClick: toggleCameraModal,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 7\n  }, this);\n};\n_s(ExternalApiComponent, \"5j7PSKHmsJm3+IArB54/MNtvzIs=\", false, function () {\n  return [useAuth0];\n});\n_c = ExternalApiComponent;\nexport default _c2 = withAuthenticationRequired(ExternalApiComponent, {\n  onRedirecting: () => /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 273,\n    columnNumber: 24\n  }, this)\n});\nvar _c, _c2;\n$RefreshReg$(_c, \"ExternalApiComponent\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useState","Button","Alert","Modal","ModalHeader","ModalBody","ModalFooter","useAuth0","withAuthenticationRequired","getConfig","Loading","jsxDEV","_jsxDEV","ExternalApiComponent","_s","apiOrigin","audience","state","setState","showResult","apiMessage","error","showModal","showCameraModal","email","score","reportName","reportDescription","reportDate","reportImage","getAccessTokenSilently","loginWithPopup","getAccessTokenWithPopup","toggleModal","prevState","toggleCameraModal","handleConsent","callApi","handleLoginAgain","token","response","fetch","headers","Authorization","responseData","json","handle","e","fn","preventDefault","handleDonate","handleImageChange","file","target","files","handleOpenCamera","stream","navigator","mediaDevices","getUserMedia","video","videoElement","document","createElement","srcObject","canvasElement","context","getContext","onloadedmetadata","width","videoWidth","height","videoHeight","play","captureButton","textContent","onclick","drawImage","capturedImageDataUrl","toDataURL","getTracks","forEach","track","stop","modalBody","querySelector","appendChild","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","color","href","onClick","isOpen","toggle","type","value","onChange","rows","autoPlay","playsInline","_c","_c2","onRedirecting","$RefreshReg$"],"sources":["/Users/jirusanun/Downloads/sample-01/src/views/credit.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Button,\n  Alert,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n} from \"reactstrap\";\nimport {\n  useAuth0,\n  withAuthenticationRequired,\n} from \"@auth0/auth0-react\";\nimport { getConfig } from \"../config\";\nimport Loading from \"../components/Loading\";\n\nconst ExternalApiComponent = () => {\n  const { apiOrigin = \"http://localhost:3001\", audience } = getConfig();\n\n  const [state, setState] = useState({\n    showResult: false,\n    apiMessage: \"\",\n    error: null,\n    showModal: false,\n    showCameraModal: false, // New state for camera modal\n    email: \"\",\n    score: 0,\n    reportName: \"\",\n    reportDescription: \"\",\n    reportDate: \"\",\n    reportImage: null,\n  });\n\n  const {\n    getAccessTokenSilently,\n    loginWithPopup,\n    getAccessTokenWithPopup,\n  } = useAuth0();\n\n  const toggleModal = () => {\n    setState((prevState) => ({\n      ...prevState,\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  const toggleCameraModal = () => {\n    setState((prevState) => ({\n      ...prevState,\n      showCameraModal: !prevState.showCameraModal,\n    }));\n  };\n\n  const handleConsent = async () => {\n    try {\n      await getAccessTokenWithPopup();\n      setState({\n        ...state,\n        error: null,\n      });\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.error,\n      });\n    }\n\n    await callApi();\n  };\n\n  const handleLoginAgain = async () => {\n    try {\n      await loginWithPopup();\n      setState({\n        ...state,\n        error: null,\n      });\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.error,\n      });\n    }\n\n    await callApi();\n  };\n\n  const callApi = async () => {\n    try {\n      const token = await getAccessTokenSilently();\n\n      const response = await fetch(`${apiOrigin}/api/external`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n\n      const responseData = await response.json();\n\n      setState({\n        ...state,\n        showResult: true,\n        apiMessage: responseData,\n      });\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.error,\n      });\n    }\n  };\n\n  const handle = (e, fn) => {\n    e.preventDefault();\n    fn();\n  };\n\n  const handleDonate = async () => {\n    // You can fetch the form data and send it to your backend here\n    toggleModal();\n  };\n\n  const handleImageChange = (e) => {\n    const file = e.target.files[0];\n    setState({\n      ...state,\n      reportImage: file,\n    });\n  };\n\n  const handleOpenCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n      const videoElement = document.createElement(\"video\");\n      videoElement.srcObject = stream;\n\n      const canvasElement = document.createElement(\"canvas\");\n      const context = canvasElement.getContext(\"2d\");\n\n      videoElement.onloadedmetadata = () => {\n        canvasElement.width = videoElement.videoWidth;\n        canvasElement.height = videoElement.videoHeight;\n      };\n\n      videoElement.play();\n      const captureButton = document.createElement(\"button\");\n      captureButton.textContent = \"Capture\";\n      captureButton.onclick = () => {\n        context.drawImage(videoElement, 0, 0, canvasElement.width, canvasElement.height);\n        const capturedImageDataUrl = canvasElement.toDataURL(\"image/jpeg\");\n\n        setState({\n          ...state,\n          reportImage: capturedImageDataUrl,\n        });\n\n        stream.getTracks().forEach(track => track.stop());\n        toggleCameraModal();\n      };\n\n      const modalBody = document.querySelector(\".modal-body\");\n      modalBody.appendChild(captureButton);\n    } catch (error) {\n      console.error(\"Error accessing camera:\", error);\n    }\n  };\n\n  return (\n      <div className=\"text-center d-flex justify-content-center align-items-center h-100\">\n        <div>\n          <h1>Score: 100</h1>\n          <div className=\"mb-5\">\n            {state.error === \"consent_required\" && (\n                <Alert color=\"warning\">\n                  You need to{\" \"}\n                  <a\n                      href=\"#/\"\n                      className=\"alert-link\"\n                      onClick={(e) => handle(e, handleConsent)}\n                  >\n                    consent to get access to users api\n                  </a>\n                </Alert>\n            )}\n\n            {state.error === \"login_required\" && (\n                <Alert color=\"warning\">\n                  You need to{\" \"}\n                  <a\n                      href=\"#/\"\n                      className=\"alert-link\"\n                      onClick={(e) => handle(e, handleLoginAgain)}\n                  >\n                    log in again\n                  </a>\n                </Alert>\n            )}\n            <Button color=\"primary\" className=\"mt-3 mr-2\" onClick={toggleModal}>\n              Report Activity\n            </Button>\n            <Button color=\"primary\" className=\"mt-3\" onClick={handleDonate}>\n              Donate Carbon Credit\n            </Button>\n          </div>\n        </div>\n        <Modal isOpen={state.showModal} toggle={toggleModal}>\n          <ModalHeader toggle={toggleModal}>Create Report</ModalHeader>\n          <ModalBody>\n            <form>\n              <label>Report Name:</label>\n              <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={state.reportName}\n                  onChange={(e) =>\n                      setState({ ...state, reportName: e.target.value })\n                  }\n              />\n              <label>Report Description:</label>\n              <textarea\n                  className=\"form-control\"\n                  rows=\"3\"\n                  value={state.reportDescription}\n                  onChange={(e) =>\n                      setState({ ...state, reportDescription: e.target.value })\n                  }\n              />\n              <label>Date:</label>\n              <input\n                  type=\"date\"\n                  className=\"form-control\"\n                  value={state.reportDate}\n                  onChange={(e) =>\n                      setState({ ...state, reportDate: e.target.value })\n                  }\n              />\n              <label>Image:</label>\n              <input\n                  type=\"file\"\n                  className=\"form-control-file\"\n                  onChange={handleImageChange}\n              />\n            </form>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={handleDonate}>\n              Submit\n            </Button>{\" \"}\n            <Button color=\"secondary\" onClick={toggleModal}>\n              Cancel\n            </Button>\n          </ModalFooter>\n        </Modal>\n        <Modal isOpen={state.showCameraModal} toggle={toggleCameraModal}>\n          <ModalHeader toggle={toggleCameraModal}>Camera</ModalHeader>\n          <ModalBody>\n            <video autoPlay playsInline></video>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"info\" onClick={handleOpenCamera}>\n              Capture\n            </Button>{\" \"}\n            <Button color=\"secondary\" onClick={toggleCameraModal}>\n              Cancel\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </div>\n  );\n};\n\nexport default withAuthenticationRequired(ExternalApiComponent, {\n  onRedirecting: () => <Loading />,\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}